{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useContext, useCallback } from 'react';\nimport { setFilter, setState } from '../store/actions';\nimport DashboardContext from '../contexts/generalContext';\nimport { getArtistByName } from '../services/provider/artist';\nexport default function useFilter({\n  messageApi\n}) {\n  _s();\n  const [state, dispatch] = useContext(DashboardContext);\n  const {\n    filters,\n    token\n  } = state;\n  const setSearchType = useCallback((name, type) => {\n    console.log(\"el coso\", type, name);\n    dispatch(setFilter({\n      [type]: name\n    }));\n  }, []);\n  const searchByFilters = useCallback(async () => {\n    try {\n      const {\n        artists\n      } = await getArtistByName(token, filters.artistName);\n      if (artists && (artists === null || artists === void 0 ? void 0 : artists.items.length) > 0) {\n        var _artists$items$, _artists$items$2;\n        dispatch(setState({\n          artistData: {\n            name: artists === null || artists === void 0 ? void 0 : artists.items[0].name,\n            followers: artists === null || artists === void 0 ? void 0 : artists.items[0].followers.total,\n            popularity: artists === null || artists === void 0 ? void 0 : artists.items[0].popularity,\n            image: artists === null || artists === void 0 ? void 0 : (_artists$items$ = artists.items[0]) === null || _artists$items$ === void 0 ? void 0 : _artists$items$.images[0],\n            genres: artists === null || artists === void 0 ? void 0 : (_artists$items$2 = artists.items[0]) === null || _artists$items$2 === void 0 ? void 0 : _artists$items$2.genres\n          }\n        }));\n      } else {\n        messageApi.open({\n          type: 'error',\n          content: 'Error al obtener la informaci贸n'\n        });\n      }\n    } catch (error) {\n      messageApi.open({\n        type: 'error',\n        content: 'Error al obtener la informaci贸n'\n      });\n    }\n  }, [filters, token]);\n  return {\n    setSearchType,\n    searchByFilters\n  };\n}\n_s(useFilter, \"DK9faX7dWx5qrj+aOKbvfKUKPno=\");","map":{"version":3,"names":["useContext","useCallback","setFilter","setState","DashboardContext","getArtistByName","useFilter","messageApi","_s","state","dispatch","filters","token","setSearchType","name","type","console","log","searchByFilters","artists","artistName","items","length","_artists$items$","_artists$items$2","artistData","followers","total","popularity","image","images","genres","open","content","error"],"sources":["C:/Users/Admin/Documents/git/dashboard-admira/src/hooks/useFilterGoogleAds.js"],"sourcesContent":["import { useContext, useCallback } from 'react';\r\nimport { setFilter, setState } from '../store/actions';\r\nimport DashboardContext from '../contexts/generalContext';\r\nimport { getArtistByName } from '../services/provider/artist';\r\n\r\nexport default function useFilter({messageApi}){\r\n    const [state, dispatch] = useContext(DashboardContext);\r\n    const { filters, token } = state;\r\n    \r\n    const setSearchType = useCallback((name, type) => {\r\n        console.log(\"el coso\", type, name)\r\n        dispatch(setFilter({[type]: name}))\r\n    }, []);\r\n    \r\n    const searchByFilters = useCallback(async () => {\r\n        try {\r\n            const { artists } = await getArtistByName(token, filters.artistName);\r\n            if(artists && artists?.items.length > 0){\r\n                dispatch(setState({\r\n                    artistData: {\r\n                        name: artists?.items[0].name,\r\n                        followers: artists?.items[0].followers.total,\r\n                        popularity: artists?.items[0].popularity,\r\n                        image: artists?.items[0]?.images[0],\r\n                        genres: artists?.items[0]?.genres\r\n                    }\r\n                }))\r\n            }else {\r\n                messageApi.open({\r\n                    type: 'error',\r\n                    content: 'Error al obtener la informaci贸n',\r\n                });\r\n            }\r\n        } catch (error) {\r\n            messageApi.open({\r\n                type: 'error',\r\n                content: 'Error al obtener la informaci贸n',\r\n            });\r\n        }\r\n    }, [filters, token]);\r\n\r\n    return {\r\n        setSearchType,\r\n        searchByFilters\r\n    }\r\n}\r\n"],"mappings":";AAAA,SAASA,UAAU,EAAEC,WAAW,QAAQ,OAAO;AAC/C,SAASC,SAAS,EAAEC,QAAQ,QAAQ,kBAAkB;AACtD,OAAOC,gBAAgB,MAAM,4BAA4B;AACzD,SAASC,eAAe,QAAQ,6BAA6B;AAE7D,eAAe,SAASC,SAASA,CAAC;EAACC;AAAU,CAAC,EAAC;EAAAC,EAAA;EAC3C,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGV,UAAU,CAACI,gBAAgB,CAAC;EACtD,MAAM;IAAEO,OAAO;IAAEC;EAAM,CAAC,GAAGH,KAAK;EAEhC,MAAMI,aAAa,GAAGZ,WAAW,CAAC,CAACa,IAAI,EAAEC,IAAI,KAAK;IAC9CC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEF,IAAI,EAAED,IAAI,CAAC;IAClCJ,QAAQ,CAACR,SAAS,CAAC;MAAC,CAACa,IAAI,GAAGD;IAAI,CAAC,CAAC,CAAC;EACvC,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMI,eAAe,GAAGjB,WAAW,CAAC,YAAY;IAC5C,IAAI;MACA,MAAM;QAAEkB;MAAQ,CAAC,GAAG,MAAMd,eAAe,CAACO,KAAK,EAAED,OAAO,CAACS,UAAU,CAAC;MACpE,IAAGD,OAAO,IAAI,CAAAA,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEE,KAAK,CAACC,MAAM,IAAG,CAAC,EAAC;QAAA,IAAAC,eAAA,EAAAC,gBAAA;QACpCd,QAAQ,CAACP,QAAQ,CAAC;UACdsB,UAAU,EAAE;YACRX,IAAI,EAAEK,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEE,KAAK,CAAC,CAAC,CAAC,CAACP,IAAI;YAC5BY,SAAS,EAAEP,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEE,KAAK,CAAC,CAAC,CAAC,CAACK,SAAS,CAACC,KAAK;YAC5CC,UAAU,EAAET,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEE,KAAK,CAAC,CAAC,CAAC,CAACO,UAAU;YACxCC,KAAK,EAAEV,OAAO,aAAPA,OAAO,wBAAAI,eAAA,GAAPJ,OAAO,CAAEE,KAAK,CAAC,CAAC,CAAC,cAAAE,eAAA,uBAAjBA,eAAA,CAAmBO,MAAM,CAAC,CAAC,CAAC;YACnCC,MAAM,EAAEZ,OAAO,aAAPA,OAAO,wBAAAK,gBAAA,GAAPL,OAAO,CAAEE,KAAK,CAAC,CAAC,CAAC,cAAAG,gBAAA,uBAAjBA,gBAAA,CAAmBO;UAC/B;QACJ,CAAC,CAAC,CAAC;MACP,CAAC,MAAK;QACFxB,UAAU,CAACyB,IAAI,CAAC;UACZjB,IAAI,EAAE,OAAO;UACbkB,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZ3B,UAAU,CAACyB,IAAI,CAAC;QACZjB,IAAI,EAAE,OAAO;QACbkB,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC,EAAE,CAACtB,OAAO,EAAEC,KAAK,CAAC,CAAC;EAEpB,OAAO;IACHC,aAAa;IACbK;EACJ,CAAC;AACL;AAACV,EAAA,CAxCuBF,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useContext } from 'react';\nimport { getToken } from '../services/provider/autentication';\nimport { setState } from '../store/actions';\nimport DashboardContext from '../contexts/generalContext';\nexport default function useInit() {\n  _s();\n  const [state, dispatch] = useContext(DashboardContext);\n  console.log(\"el state\", state);\n  const getData = async () => {\n    const token = await getToken();\n    dispatch(setState({\n      token: token.access_token\n    }));\n  };\n  useEffect(() => {\n    getData();\n    const intervalId = setInterval(() => {\n      getData();\n    }, 3580000);\n    return () => {\n      clearInterval(intervalId);\n    };\n  }, []);\n}\n_s(useInit, \"mltmd/RDNrxkCWh2DlNZLIj6yIE=\");","map":{"version":3,"names":["useEffect","useContext","getToken","setState","DashboardContext","useInit","_s","state","dispatch","console","log","getData","token","access_token","intervalId","setInterval","clearInterval"],"sources":["C:/Users/Admin/Documents/git/Dinametra/dashboard-dimitra/src/hooks/useInit.js"],"sourcesContent":["import { useEffect, useContext } from 'react';\r\nimport { getToken } from '../services/provider/autentication';\r\nimport { setState } from '../store/actions';\r\nimport DashboardContext from '../contexts/generalContext';\r\n\r\nexport default function useInit(){\r\n    const [state, dispatch] = useContext(DashboardContext);\r\n    console.log(\"el state\", state)\r\n    const getData = async () => {\r\n        const token = await getToken();\r\n        dispatch(setState({token: token.access_token}));\r\n    }\r\n\r\n    useEffect(() => {\r\n        getData();\r\n        const intervalId = setInterval(() => {\r\n            getData();\r\n        }, 3580000);\r\n      \r\n        return () => {\r\n          clearInterval(intervalId);\r\n        };\r\n      }, []);\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC7C,SAASC,QAAQ,QAAQ,oCAAoC;AAC7D,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,OAAOC,gBAAgB,MAAM,4BAA4B;AAEzD,eAAe,SAASC,OAAOA,CAAA,EAAE;EAAAC,EAAA;EAC7B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGP,UAAU,CAACG,gBAAgB,CAAC;EACtDK,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEH,KAAK,CAAC;EAC9B,MAAMI,OAAO,GAAG,MAAAA,CAAA,KAAY;IACxB,MAAMC,KAAK,GAAG,MAAMV,QAAQ,CAAC,CAAC;IAC9BM,QAAQ,CAACL,QAAQ,CAAC;MAACS,KAAK,EAAEA,KAAK,CAACC;IAAY,CAAC,CAAC,CAAC;EACnD,CAAC;EAEDb,SAAS,CAAC,MAAM;IACZW,OAAO,CAAC,CAAC;IACT,MAAMG,UAAU,GAAGC,WAAW,CAAC,MAAM;MACjCJ,OAAO,CAAC,CAAC;IACb,CAAC,EAAE,OAAO,CAAC;IAEX,OAAO,MAAM;MACXK,aAAa,CAACF,UAAU,CAAC;IAC3B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;AACZ;AAACR,EAAA,CAlBuBD,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
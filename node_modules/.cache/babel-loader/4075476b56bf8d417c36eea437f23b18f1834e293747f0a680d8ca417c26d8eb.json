{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useContext, useCallback } from 'react';\nimport { setFilter, setState } from '../store/actions';\nimport DashboardContext from '../contexts/generalContext';\nimport { getArtistByName } from '../services/provider/artist';\nexport default function useFilter() {\n  _s();\n  const [state, dispatch] = useContext(DashboardContext);\n  const {\n    filters,\n    token\n  } = state;\n  console.log(\"el state\", state);\n  const setSearchType = useCallback((name, type) => {\n    dispatch(setFilter({\n      [type]: name\n    }));\n  }, []);\n  const searchByFilters = useCallback(async () => {\n    try {\n      const {\n        artists\n      } = await getArtistByName(token, filters.artistName);\n      if (artists && (artists === null || artists === void 0 ? void 0 : artists.items.length) > 0) {\n        dispatch(setState({\n          artistData: {\n            name: artists === null || artists === void 0 ? void 0 : artists.items[0].name,\n            followers: artists === null || artists === void 0 ? void 0 : artists.items[0].followers.total,\n            popularity: artists === null || artists === void 0 ? void 0 : artists.items[0].popularity\n          }\n        }));\n      } else {}\n    } catch (error) {}\n  }, [filters, token]);\n  return {\n    setSearchType,\n    searchByFilters\n  };\n}\n_s(useFilter, \"DK9faX7dWx5qrj+aOKbvfKUKPno=\");","map":{"version":3,"names":["useContext","useCallback","setFilter","setState","DashboardContext","getArtistByName","useFilter","_s","state","dispatch","filters","token","console","log","setSearchType","name","type","searchByFilters","artists","artistName","items","length","artistData","followers","total","popularity","error"],"sources":["C:/Users/Admin/Documents/git/Dinametra/dashboard-dimitra/src/hooks/useFilter.js"],"sourcesContent":["import { useContext, useCallback } from 'react';\r\nimport { setFilter, setState } from '../store/actions';\r\nimport DashboardContext from '../contexts/generalContext';\r\nimport { getArtistByName } from '../services/provider/artist';\r\n\r\nexport default function useFilter(){\r\n    const [state, dispatch] = useContext(DashboardContext);\r\n    const { filters, token } = state;\r\n    console.log(\"el state\", state)\r\n    const setSearchType = useCallback((name, type) => {\r\n        dispatch(setFilter({[type]: name}))\r\n    }, []);\r\n\r\n    const searchByFilters = useCallback(async () => {\r\n        try {\r\n            const { artists } = await getArtistByName(token, filters.artistName);\r\n            if(artists && artists?.items.length > 0){\r\n                dispatch(setState({\r\n                    artistData: {\r\n                        name: artists?.items[0].name,\r\n                        followers: artists?.items[0].followers.total,\r\n                        popularity: artists?.items[0].popularity\r\n                    }\r\n                }))\r\n            }else {\r\n\r\n            }\r\n        } catch (error) {\r\n            \r\n        }\r\n    }, [filters, token]);\r\n\r\n    return {\r\n        setSearchType,\r\n        searchByFilters\r\n    }\r\n}\r\n"],"mappings":";AAAA,SAASA,UAAU,EAAEC,WAAW,QAAQ,OAAO;AAC/C,SAASC,SAAS,EAAEC,QAAQ,QAAQ,kBAAkB;AACtD,OAAOC,gBAAgB,MAAM,4BAA4B;AACzD,SAASC,eAAe,QAAQ,6BAA6B;AAE7D,eAAe,SAASC,SAASA,CAAA,EAAE;EAAAC,EAAA;EAC/B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGT,UAAU,CAACI,gBAAgB,CAAC;EACtD,MAAM;IAAEM,OAAO;IAAEC;EAAM,CAAC,GAAGH,KAAK;EAChCI,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEL,KAAK,CAAC;EAC9B,MAAMM,aAAa,GAAGb,WAAW,CAAC,CAACc,IAAI,EAAEC,IAAI,KAAK;IAC9CP,QAAQ,CAACP,SAAS,CAAC;MAAC,CAACc,IAAI,GAAGD;IAAI,CAAC,CAAC,CAAC;EACvC,CAAC,EAAE,EAAE,CAAC;EAEN,MAAME,eAAe,GAAGhB,WAAW,CAAC,YAAY;IAC5C,IAAI;MACA,MAAM;QAAEiB;MAAQ,CAAC,GAAG,MAAMb,eAAe,CAACM,KAAK,EAAED,OAAO,CAACS,UAAU,CAAC;MACpE,IAAGD,OAAO,IAAI,CAAAA,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEE,KAAK,CAACC,MAAM,IAAG,CAAC,EAAC;QACpCZ,QAAQ,CAACN,QAAQ,CAAC;UACdmB,UAAU,EAAE;YACRP,IAAI,EAAEG,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEE,KAAK,CAAC,CAAC,CAAC,CAACL,IAAI;YAC5BQ,SAAS,EAAEL,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEE,KAAK,CAAC,CAAC,CAAC,CAACG,SAAS,CAACC,KAAK;YAC5CC,UAAU,EAAEP,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEE,KAAK,CAAC,CAAC,CAAC,CAACK;UAClC;QACJ,CAAC,CAAC,CAAC;MACP,CAAC,MAAK,CAEN;IACJ,CAAC,CAAC,OAAOC,KAAK,EAAE,CAEhB;EACJ,CAAC,EAAE,CAAChB,OAAO,EAAEC,KAAK,CAAC,CAAC;EAEpB,OAAO;IACHG,aAAa;IACbG;EACJ,CAAC;AACL;AAACV,EAAA,CA/BuBD,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}